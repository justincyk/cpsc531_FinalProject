{% extends 'base.html' %}

{% block content %}

<script src="https://cdn.flexmonster.com/flexmonster.js"></script> <div id="pivot"></div>
<div id="pivot_chart"></div>

<script>
    let pivot = new Flexmonster({
        container: "#pivot",
        componentFolder: "https://cdn.flexmonster.com/",
        height: 600,
        toolbar: true,
        report: {}
    });
    let pivot_chart = new Flexmonster({
        container: "#pivot_chart",
        componentFolder: "https://cdn.flexmonster.com/",
        height: 600,
        toolbar: true,
        report: {
        "dataSource": {
            "type": "api",
            "url": "http://localhost:9204/mongo", // the url where our connector is running
            "index": "mushrooms" // specify the collectionâ€™s name
        },
        "slice": {
            "rows": [
                {
                    "uniqueName": "_id"
                }
            ],
            "columns": [
                {
                    "uniqueName": "[Measures]"
                }
            ],
            "measures": [
                {
                    "uniqueName": "Leads",
                    "aggregation": "sum"
                },
                {
                    "uniqueName": "Opportunities",
                    "aggregation": "sum"
                }
            ]
        }
    }
    });
</script>

{% endblock %}